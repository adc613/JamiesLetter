html,
body,
  margin:  0
  padding: 0
  height: 100%

=full-open-transition()
  transition: 1000ms cubic-bezier(0.4, 0, 1, 1) 0s

#Top-triangle
  fill: #00FF00
  transform: rotateX(180deg)


#flap-open
  transform: translate(308px, 95px) scale(-1, -1) translate(-308px, -95px) rotateX(90deg)
  transition: 500ms linear 500ms

#flap-closed
  transform: translate(308px, 95px) scale(-1, -1) translate(-308px, -95px) rotateX(180deg)
  transition: 500ms linear 0s

#letter
  transform: translate(27px, 200px)
  transition: 500ms linear 700ms

.svg-envelope
  transition: 250ms linear

.svg-envelope:hover
  transform: scale(1.1)
  cursor: pointer


.open,
  #letter
    transform: translate(27px, 0px)

  #flap-closed
    transform: translate(308px, 95px) scale(-1, -1) translate(-308px, -95px) rotateX(90deg)

  #flap-open
    transform: translate(308px, 95px) scale(-1, -1) translate(-308px, -95px) rotateX(0deg)

  #Triangle-2
    transform: translate(308px, 286.5px) scale(1, -1) translate(-308px, -286px)

  #Triangle-3
    transform: translate(168px, 387px)  rotate(90deg) translate(-168px, -387px)

  #Triangle-3-Copy
    transform: translate(447px, 386px)  scale(-1, 1) rotate(90deg) translate(-447px, -386px)



.full-open
  #bottom-triangle
    transform: translate(0, 2500px)
    +full-open-transition()

  #Triangle-3-Copy
    transform: translate(447px, 386px)  scale(-1, 1) rotate(90deg) translate(2053px, -386px)
    +full-open-transition()

  #Triangle-2
    transform: translate(308px, 286.5px) scale(1, -1) translate(-308px, -2786px)
    +full-open-transition()

  #Triangle-3
    transform: translate(168px, 387px)  rotate(90deg) translate(2332px, -387px)
    +full-open-transition()

  #letter
    transform: translate(27px, -2500px)
    +full-open-transition()

  #flap-closed
    transform: translate(308px, 95px) scale(-1, -1) translate(-308px, -2595px) rotateX(90deg)
    +full-open-transition()

  #flap-open
    transform: translate(308px, 95px) scale(-1, -1) translate(-308px, -2595px) rotateX(0deg)
    +full-open-transition()

.envelope
  transform: translate(0px, 2500px)
  transition: 900ms cubic-bezier(0.4, 0, 1, 1) 0s
  height: 100vh
  width: 100vw

.envelope-enter
  transform: translate(0px, 0px)
  transition: 900ms cubic-bezier(0.4, 0, 1, 1) 0s
  height: 100vh
  width: 100vw

.letter-offScreen
  position: absolute
  height: 100%
  width: 100%
  transform: translate(0px, -2500px)

.letter-enter
  position: absolute
  height: 100%
  width: 100%
  transform: translate(0px, 0px)
  transition: 900ms cubic-bezier(0, 0.01, 0.05, 1.6) 1000ms

#free-letter
  width: 450px
  max-width: 90%
  overflow: scroll
  height: 80vh
  margin-top: 10vh
  margin-bottom: auto
  margin-left: auto
  margin-right: auto
  padding: 10px 10px 10px 10px
  background-color: #FFFFFF
  box-shadow: 0px 0px 13px #635F5F
  border-radius: 3px

.envelope-page svg
  height: 97vh
  width: 100vw

#tree
  padding: 0 auto

#riddle
  h3
    border-top: rgba(45,118,222,0.33) solid 2px
    padding-top: 10px
  input
    border: 1px solid rgba(0,0,0,.20)
    border-radius: 2px
    background-color: #FFFFFF
    width: 100%
    padding: 7px
    margin-bottom: 22px

  #riddle-submit
    width: 100%

    button
      border: none
      background-color: rgba(45,118,222,0.33)
      width: 100%
      color: white
      padding-top: 10px
      padding-bottom: 10px
      border-radius: 5px
      font-size: 16px
      font-weight: bold
      transition: 200ms linear
      &:hover
        background-color: rgba(113,164,147,0.45)

#tree
  svg
    position: absolute
    max-width: 100vw
    max-height: 100%
    margin: 0 auto

.path-open
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 30s linear forwards 11000ms

.path-open-1
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 3000ms

.path-open-2
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 3950ms

.path-open-3
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 4550ms

.path-open-4
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 4950ms

.path-open-5
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 5150ms

.path-open-6
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 6350ms

.path-open-7
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 6850ms

.path-open-8
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 7250ms

.path-open-9
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 7950ms

.path-open-10
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 8350ms

.path-open-11
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 40s linear forwards 8750ms

.path-open-branches
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 11000ms

.path-open-branches-1
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 3000ms

.path-open-branches-2
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 4000ms

.path-open-branches-3
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 5000ms

.path-open-branches-4
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 6000ms

.path-open-branches-5
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 7000ms

.path-open-branches-6
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 8000ms

.path-open-branches-7
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 9000ms

.path-open-branches-8
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 9000ms

.path-open-branches-9
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 9000ms

.path-open-branches-10
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 9000ms

.path-open-branches-11
  stroke-dasharray: 1000
  stroke-dashoffset: 1000
  animation: draw 20s linear forwards 3000ms

.leaf
  animation: fade-in 2000ms linear forwards

#top-half
  background-color: rgba(45,118,222,0.33)
  position: absolute
  z-index: -1
  height: 50%
  width: 100%

#bottom-half
  background-color: rgba(113,164,147,0.45)
  position: absolute
  z-index: -1
  top: 50%
  height: 50%
  width: 100%

.leaf-falling
  animation: falling-leaf 3000ms linear forwards

#memory
  position: absolute
  z-index: 100
  width: 100%
  height: 100%
  margin: 0 auto
  animation: memory-entrance 1000ms cubic-bezier(0, 0, 0.6, 1.4) forwards, movie-theater 500ms linear forwards 1000ms

#memory .content
  height: 100%
  width: 80%
  margin: 0 auto
  display: flex
  flex-direction: column
  justify-content: center

#memory-img
  margin: 0 auto
  max-width: 50%
  max-height: 80%
  border-radius: 4px

#memory .content p
  max-width: 100%
  max-height: 20%
  padding: 30px
  background-color: rgba(255, 255, 255, 0.70)
  border-radius: 12px

#memory.exit
  animation: falling-leaf 3000ms linear forwards


@keyframes draw
  0%
    stroke-dashoffset: 1000
  100%
    stroke-dashoffset: 0


@keyframes fade-in
  0%
    transform:  translateY(-20px) scale(0)
  100%
    transform: translateY(0px) scale(1)

@keyframes falling-leaf
  0%
    opacity: 1
    transform:  translateY(0px)
  100%
    opacity: 0
    transform: translateY(200px)

@keyframes memory-entrance
  0%
    transform:  translateY(-2000px)
  100%
    transform: translateY(0px)


@keyframes movie-theater
  0%
    background-color: rgba(0, 0, 0, 0)
  100%
    background-color: rgba(0, 0, 0, .40)
